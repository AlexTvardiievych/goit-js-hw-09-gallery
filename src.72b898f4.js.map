{"version":3,"sources":["js/gallery-items.js","js/app.js","index.js"],"names":["preview","original","description","refs","gallery","document","querySelector","lightbox","lightboxOverlay","lightboxImage","lightboxCloseButton","imgMarkup","createImages","images","map","alt","index","join","openModalWindow","event","preventDefault","currentImg","target","nodeName","classList","add","src","dataset","source","setAttribute","addEventListener","closeModalWindow","keystroke","insertAdjacentHTML","escButton","code","nextImage","prevImage","onNextImg","imageIndex","Number","length","isEscButton","currentTarget","remove","removeAttribute","removeEventListener"],"mappings":"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","file":"src.72b898f4.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","import images from './gallery-items.js';\n\nconst refs = {\n    gallery: document.querySelector('.js-gallery'),\n    lightbox: document.querySelector('.js-lightbox'),\n    lightboxOverlay: document.querySelector('.lightbox__overlay'),\n    lightboxImage: document.querySelector('.lightbox__image'),\n    lightboxCloseButton: document.querySelector('.lightbox__button'),\n};\n\nconst imgMarkup = createImages(images);\n\nrefs.gallery.insertAdjacentHTML('beforeend', imgMarkup);\n\nrefs.gallery.addEventListener('click', (event) => {\n    openModalWindow(event)\n});\n\nfunction createImages(images) {\n    return images\n        .map(({ preview, original, alt }, index) => {\n            return `<li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"\n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\"\n      data-source=\"${original}\"\n      data-alt=\"${alt}\"\n      data-index = ${index}\n    />\n  </a>\n</li>`;\n        })\n        .join('');\n}\n\nfunction openModalWindow(event) {\n    event.preventDefault();\n\n    const currentImg = event.target;\n\n    if (currentImg.nodeName !== 'IMG') {\n        return;\n    }\n\n    refs.lightbox.classList.add('is-open');\n    refs.lightboxImage.src = currentImg.dataset.source;\n    refs.lightboxImage.alt = currentImg.dataset.alt;\n    refs.lightboxImage.setAttribute('data-index', currentImg.dataset.index);\n\n    refs.lightboxCloseButton.addEventListener('click', closeModalWindow);\n    refs.lightboxOverlay.addEventListener('click', closeModalWindow);\n    document.addEventListener('keydown', keystroke);\n}\n\nconst keystroke = function (event) {\n    const escButton = event.code === 'Escape';\n    const nextImage = event.code === 'ArrowRight';\n    const prevImage = event.code === 'ArrowLeft';\n\n    if (escButton) {\n        closeModalWindow(event, escButton);\n    }\n    else {\n        if (nextImage || prevImage) {\n            onNextImg(nextImage);\n        }\n    }\n}\n\nfunction onNextImg(nextImage) {\n    let imageIndex = nextImage\n        ? Number(refs.lightboxImage.dataset.index) + 1\n        : Number(refs.lightboxImage.dataset.index) - 1;\n\n    if (imageIndex < 0) {\n        imageIndex = images.length + imageIndex;\n    }\n    else {\n        if (imageIndex === images.length) {\n            imageIndex = 0;\n        }\n    }\n\n    refs.lightboxImage.src = images[imageIndex].original;\n    refs.lightboxImage.dataset.index = imageIndex;\n}\n\nconst closeModalWindow = function (event, isEscButton = false) {\n    if (event.currentTarget === event.target || isEscButton) {\n        refs.lightbox.classList.remove('is-open');\n        refs.lightboxImage.removeAttribute('data-index');\n        refs.lightboxImage.removeAttribute('src');\n        refs.lightboxImage.removeAttribute('alt');\n        document.removeEventListener('keydown', keystroke);\n        refs.lightboxCloseButton.removeEventListener('click', closeModalWindow);\n        refs.lightboxOverlay.removeEventListener('click', closeModalWindow);\n    }\n}","import './sass/main.scss';\nimport './js/app.js';\n"]}